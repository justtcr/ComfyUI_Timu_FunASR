{"id":"a8ebe0e1-f5c7-4379-826a-0df905c5f429","revision":0,"last_node_id":11,"last_link_id":8,"nodes":[{"id":1,"type":"AsrRun2json","pos":[427.97894287109375,304.6247253417969],"size":[463.42706298828125,223.98936462402344],"flags":{},"order":2,"mode":0,"inputs":[{"label":"audio","localized_name":"audio","name":"audio","type":"AUDIO","link":1},{"label":"batch_size_s","localized_name":"batch_size_s","name":"batch_size_s","type":"INT","widget":{"name":"batch_size_s"},"link":null},{"label":"unload_model","localized_name":"unload_model","name":"unload_model","type":"BOOLEAN","widget":{"name":"unload_model"},"link":null},{"label":"hotkey","localized_name":"hotkey","name":"hotkey","type":"STRING","widget":{"name":"hotkey"},"link":null}],"outputs":[{"label":"text","localized_name":"text","name":"text","type":"STRING","links":[3]},{"label":"json_result","localized_name":"json_result","name":"json_result","type":"STRING","links":[2]}],"properties":{"Node name for S&R":"AsrRun2json"},"widgets_values":[300,false,"热词",[false,true]]},{"id":9,"type":"easy showAnything","pos":[945.14208984375,513.6517333984375],"size":[286.59210205078125,255.01272583007812],"flags":{},"order":6,"mode":0,"inputs":[{"label":"输入任何","localized_name":"输入任何","name":"anything","shape":7,"type":"*","link":7}],"outputs":[{"localized_name":"输出","name":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.0","Node name for S&R":"easy showAnything"},"widgets_values":["1\n00:00:00,590 --> 00:00:02,030\n各位同学大家好\n\n2\n00:00:02,530 --> 00:00:04,535\n欢迎来到今天的课堂\n\n"]},{"id":5,"type":"easy showAnything","pos":[945.14208984375,298.5878601074219],"size":[286.2383117675781,165.07574462890625],"flags":{},"order":3,"mode":0,"inputs":[{"label":"输入任何","localized_name":"输入任何","name":"anything","shape":7,"type":"*","link":3}],"outputs":[{"localized_name":"输出","name":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.0","Node name for S&R":"easy showAnything"},"widgets_values":["各位同学大家好，欢迎来到今天的课堂。"]},{"id":11,"type":"Note","pos":[52.86679458618164,555.900146484375],"size":[330.7627258300781,219.47682189941406],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["基于FunASR的语音识别项目，简单易用\n\n1. 因为confyUI网页限制了上传大小，要先将视频转换成MP3或者wav音频文件，然后才能加载并识别\n\n2. 有专有名词等需要替换的词汇，可以添加到热词栏，用空格分隔\n\n3. Fomat json to Srt节点的min_length属性：按标点分割段落的最小字数，例如数字5表示必须此行有5个字，才能换行（防止出现，1，2个字，单独占一行的情况）\n\n4. 如果需要字幕保留标点，可以将Delete SRT punc节点的enable（启用），切换成disable（禁用）\n\n5. 点击save srt节点subtitle可自定义输出字幕的名字"],"color":"#432","bgcolor":"#653"},{"id":3,"type":"LoadAudio","pos":[81.66412353515625,313.6770324707031],"size":[270,136],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"音频","name":"audio","type":"COMBO","widget":{"name":"audio"},"link":null},{"localized_name":"音频UI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"AUDIOUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"音频","localized_name":"音频","name":"AUDIO","type":"AUDIO","links":[1]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.39","Node name for S&R":"LoadAudio"},"widgets_values":["Test Audio.mp3",null,null]},{"id":7,"type":"Deletepunc","pos":[658.2864990234375,590.8567504882812],"size":[239.09666442871094,110.11511993408203],"flags":{},"order":5,"mode":0,"inputs":[{"label":"srt_text","localized_name":"srt_text","name":"srt_text","type":"STRING","widget":{"name":"srt_text"},"link":5},{"label":"Delete_Puncutuaion","localized_name":"Delete_Puncutuaion","name":"Delete_Puncutuaion","type":"COMBO","widget":{"name":"Delete_Puncutuaion"},"link":null}],"outputs":[{"label":"NoPuncText","localized_name":"NoPuncText","name":"NoPuncText","type":"STRING","links":[7,8]}],"title":"删除标点符号","properties":{"Node name for S&R":"Deletepunc"},"widgets_values":["","enable"]},{"id":4,"type":"json2Srt","pos":[430,590],"size":[210,110],"flags":{"collapsed":false},"order":4,"mode":0,"inputs":[{"label":"json_result","localized_name":"json_result","name":"json_result","type":"STRING","widget":{"name":"json_result"},"link":2},{"label":"min_length","localized_name":"min_length","name":"min_length","type":"INT","widget":{"name":"min_length"},"link":null}],"outputs":[{"label":"subtitle","localized_name":"subtitle","name":"subtitle","type":"STRING","links":[5]}],"title":"识别转SRT格式","properties":{"Node name for S&R":"json2Srt"},"widgets_values":["",5]},{"id":10,"type":"SaveSubtitles","pos":[1262.745361328125,474.86279296875],"size":[216.88070678710938,85.42704772949219],"flags":{},"order":7,"mode":0,"inputs":[{"label":"subtitles","localized_name":"subtitles","name":"subtitles","type":"STRING","widget":{"name":"subtitles"},"link":8},{"label":"filename_prefix","localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"title":"保存SRT文件","properties":{"Node name for S&R":"SaveSubtitles"},"widgets_values":["","subtitles"]}],"links":[[1,3,0,1,0,"AUDIO"],[2,1,1,4,0,"STRING"],[3,1,0,5,0,"*"],[5,4,0,7,0,"STRING"],[7,7,0,9,0,"*"],[8,7,0,10,0,"STRING"]],"groups":[{"id":1,"title":"音频输入","bounding":[56.607521057128906,225.18592834472656,323.5965881347656,255.61410522460938],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"识别执行器","bounding":[402.55743408203125,224.17071533203125,516.7064208984375,549.6504516601562],"color":"#A88","font_size":24,"flags":{}},{"id":4,"title":"识别结果展示","bounding":[935.14208984375,224.98789978027344,306.23834228515625,551.963134765625],"color":"#8A8","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.167184107045005,"offset":[45.61268718107738,-163.1623706611946]}},"version":0.4}